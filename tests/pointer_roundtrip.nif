(.nif24)
(stmts
  (type :Pair.0 (object
    (fld :a.0 (i +64))
    (fld :b.0 (i +64))
  ))

  (proc :main.0
    (params)
    (result)
    (clobber)
    (stmts
      (var :pair.0 (s) Pair.0)

      (mov (rbx) +77)
      (mov (mem (dot (rsp) pair.0 a.0)) (rbx))
      (mov (rbx) +88)
      (mov (mem (dot (rsp) pair.0 b.0)) (rbx))

      (lea (rax) (rsp) pair.0)
      (mov (rcx) (mem (dot (cast (ptr Pair.0) (rax)) a.0)))
      (mov (rdx) (mem (dot (cast (ptr Pair.0) (rax)) b.0)))

      (cmp (rcx) +77)
      (jne fail.0)
      (cmp (rdx) +88)
      (jne fail.0)

      (mov (rdi) +0)
      (jmp exit.0)

      (lab :fail.0)
      (mov (rdi) +1)

      (lab :exit.0)
      (mov (rax) +60)
      (syscall)
    )
  )
)
